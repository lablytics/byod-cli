import{r as a,j as e,m as l,h as v,s as j,a as f}from"./index-DPprMCNG.js";import{a as r,c as o,d as x}from"./Skeleton-BAQGCEbE.js";function S(){const[c,d]=a.useState([]),[s,p]=a.useState(null),[m,h]=a.useState(!0);a.useEffect(()=>{Promise.all([r("/settings/profiles"),r("/settings/config")]).then(([i,n])=>{d(i),p(n)}).catch(()=>{}).finally(()=>h(!1))},[]);const g=async i=>{await r(`/settings/profiles/${i}/activate`,{method:"POST"}),d(n=>n.map(t=>({...t,active:t.name===i})))};return m?e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx(o,{width:120,height:24,style:{marginBottom:8}}),e.jsx(o,{width:250,height:14})]}),e.jsx(x,{lines:4}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(o,{width:100,height:16,style:{marginBottom:16}}),e.jsx(x,{lines:3})]})]}):e.jsxs(l.div,{variants:v,initial:"initial",animate:"animate",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{children:"Settings"}),e.jsx("p",{children:"Manage profiles and view configuration"})]}),s&&e.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[e.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px"},children:"Configuration"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"Config File"}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:"13px"},children:s.config_path})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"API URL"}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:"13px"},children:s.api_url})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"Active Profile"}),e.jsx("div",{style:{fontSize:"14px"},children:s.active_profile||"None"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"API Key"}),e.jsx("div",{style:{fontSize:"14px",color:s.api_key_set?"var(--green)":"var(--red)"},children:s.api_key_set?"Configured":"Not set"})]})]})]}),e.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px"},children:"Profiles"}),c.length===0?e.jsxs("div",{className:"card",style:{textAlign:"center",padding:"48px"},children:[e.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"12px"},children:"No profiles configured"}),e.jsx("div",{className:"cli-hint",children:"byod auth login"})]}):e.jsx(l.div,{style:{display:"flex",flexDirection:"column",gap:"12px"},variants:j,initial:"initial",animate:"animate",children:c.map(i=>e.jsxs(l.div,{className:"card",variants:f,style:{borderColor:i.active?"var(--accent)":void 0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{fontWeight:600,fontSize:"16px"},children:i.name}),i.active&&e.jsx("span",{className:"badge badge-completed",children:"Active"})]}),e.jsxs("div",{style:{fontSize:"13px",color:"var(--text-dim)"},children:[i.api_url,i.has_api_key&&" â€¢ API key set"]}),Object.keys(i.settings).length>0&&e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"var(--text-dim)"},children:Object.entries(i.settings).map(([n,t])=>e.jsxs("div",{children:[e.jsxs("span",{style:{color:"var(--text)"},children:[n,":"]})," ",e.jsx("span",{style:{fontFamily:"monospace"},children:t.length>40?t.slice(0,20)+"..."+t.slice(-12):t})]},n))})]}),!i.active&&e.jsx("button",{className:"btn-small",onClick:()=>g(i.name),children:"Activate"})]},i.name))}),e.jsxs("div",{style:{marginTop:"32px"},children:[e.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"CLI Commands"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{className:"cli-hint",children:"byod profile list"}),e.jsx("div",{className:"cli-hint",children:"byod profile switch <name>"}),e.jsx("div",{className:"cli-hint",children:"byod auth login"})]})]})]})}export{S as Settings};
